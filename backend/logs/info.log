[2025-06-07T05:28:39.849Z] [INFO] ðŸš€ Medical RAG Server starting up... 
[2025-06-07T05:28:39.850Z] [INFO] Environment check {"node_version":"v20.19.1","port":8000,"working_directory":"/home/project/backend"}
[2025-06-07T05:28:39.850Z] [INFO] === DIAGNOSTIC CHECKS === 
[2025-06-07T05:28:39.851Z] [INFO] SUCCESS: DocumentProcessor connection verified {"path":"/home/project/backend/lib/documentProcessor.js"}
[2025-06-07T05:28:39.851Z] [INFO] SUCCESS: Embedder connection verified {"path":"/home/project/backend/lib/embedder.js"}
[2025-06-07T05:28:39.853Z] [INFO] SUCCESS: ChatService connection verified {"path":"/home/project/backend/lib/chatService.js"}
[2025-06-07T05:28:39.854Z] [INFO] SUCCESS: Agent Utils Directory connection verified {"path":"/home/project/backend/agent_utils"}
[2025-06-07T05:28:39.855Z] [INFO] Lib directory contents {"files":["chatService.js","documentProcessor.js","embedder.js"]}
[2025-06-07T05:28:39.857Z] [INFO] Agent utils directory contents {"files":["agentController.js","agentManager.js","agentMiddleware.js","errorLogger.js","index.js","runpodService.js"]}
[2025-06-07T05:28:39.857Z] [INFO] === END DIAGNOSTIC === 
[2025-06-07T05:28:39.862Z] [INFO] SUCCESS: DocumentProcessor initialized 
[2025-06-07T05:28:39.863Z] [INFO] SUCCESS: EmbeddingService initialized 
[2025-06-07T19:01:26.256Z] [INFO] ðŸš€ Medical RAG Server starting up... 
[2025-06-07T19:01:26.257Z] [INFO] Environment check {"node_version":"v20.19.1","port":8000,"working_directory":"/home/project/backend"}
[2025-06-07T20:23:40.817Z] [INFO] ðŸš€ Medical RAG Server starting up... 
[2025-06-07T20:23:40.817Z] [INFO] Environment check {"node_version":"v20.19.1","port":8000,"working_directory":"/home/project/backend"}
[2025-06-07T23:02:42.122Z] [INFO] ðŸš€ Medical RAG Server starting up... 
[2025-06-07T23:02:42.122Z] [INFO] Environment check {
  "node_version": "v20.19.1",
  "port": 8000,
  "working_directory": "/home/project/backend"
}
[2025-06-08T01:55:37.936Z] [INFO] ðŸš€ Medical RAG Server starting up... 
[2025-06-08T01:55:37.936Z] [INFO] Environment check {
  "node_version": "v20.19.1",
  "port": "8000",
  "working_directory": "/home/project/backend"
}
[2025-06-08T01:55:37.937Z] [INFO] Environment variables validated {
  "supabase_url_set": true,
  "supabase_key_set": true,
  "jwt_secret_set": true,
  "runpod_url_set": true,
  "openai_key_set": true,
  "supabase_url_preview": "https://bfjfjxzdjhraabputkqi.s..."
}
[2025-06-08T01:55:37.937Z] [INFO] === DIAGNOSTIC CHECKS === 
[2025-06-08T01:55:37.937Z] [INFO] SUCCESS: DocumentProcessor connection verified {
  "path": "/home/project/backend/lib/documentProcessor.js"
}
[2025-06-08T01:55:37.937Z] [INFO] SUCCESS: Embedder connection verified {
  "path": "/home/project/backend/lib/embedder.js"
}
[2025-06-08T01:55:37.938Z] [INFO] SUCCESS: ChatService connection verified {
  "path": "/home/project/backend/lib/chatService.js"
}
[2025-06-08T01:55:37.938Z] [INFO] SUCCESS: Agent Utils Directory connection verified {
  "path": "/home/project/backend/agent_utils"
}
[2025-06-08T01:55:37.938Z] [INFO] Lib directory contents {
  "files": [
    "chatService.js",
    "documentProcessor.js",
    "embedder.js"
  ]
}
[2025-06-08T01:55:37.939Z] [INFO] Agent utils directory contents {
  "files": [
    "agentController.js",
    "agentManager.js",
    "agentMiddleware.js",
    "errorLogger.js",
    "index.js",
    "runpodService.js"
  ]
}
[2025-06-08T01:55:37.939Z] [INFO] === END DIAGNOSTIC === 
[2025-06-08T01:55:37.939Z] [INFO] SUCCESS: DocumentProcessor initialized 
[2025-06-08T01:55:37.939Z] [INFO] SUCCESS: EmbeddingService initialized 
[2025-06-08T01:55:37.942Z] [INFO] SUCCESS: Supabase client initialized 
[2025-06-08T01:55:37.942Z] [INFO] ChatService initialized {
  "openai_configured": true,
  "supabase_configured": true
}
[2025-06-08T01:55:37.942Z] [INFO] SUCCESS: ChatService initialized 
[2025-06-08T01:55:37.943Z] [INFO] SUCCESS: Agent controller initialized with Supabase client 
[2025-06-08T01:55:37.943Z] [INFO] SUCCESS: Agent controller initialized 
[2025-06-08T01:55:37.944Z] [INFO] Mounting agent routes... 
[2025-06-08T01:55:37.944Z] [INFO] Agent routes mounted successfully 
[2025-06-08T01:55:37.945Z] [INFO] SUCCESS: Agent routes mounted successfully with authentication 
[2025-06-08T01:55:37.965Z] [INFO] SUCCESS: ðŸš€ Medical RAG Server running {
  "port": "8000",
  "health_check": "http://localhost:8000/health",
  "environment": "development"
}
[2025-06-08T01:55:37.966Z] [INFO] ðŸ”§ Services configured: 
[2025-06-08T01:55:37.966Z] [INFO] SUCCESS: Embedding connection verified 
[2025-06-08T01:55:37.966Z] [INFO] SUCCESS: OpenAI Chat connection verified 
[2025-06-08T01:55:37.966Z] [INFO] SUCCESS: Supabase connection verified 
[2025-06-08T01:55:37.967Z] [INFO] SUCCESS: RunPod TxAgent connection verified 
[2025-06-08T01:55:37.967Z] [INFO] ðŸ“š Available endpoints: 
[2025-06-08T01:55:37.967Z] [INFO]   - GET  /health (Health check) 
[2025-06-08T01:55:37.967Z] [INFO]   - POST /upload (Document upload) 
[2025-06-08T01:55:37.967Z] [INFO]   - POST /api/chat (Chat with TxAgent) 
[2025-06-08T01:55:37.967Z] [INFO]   - POST /api/openai-chat (Chat with OpenAI RAG) 
[2025-06-08T01:55:37.967Z] [INFO]   - POST /chat (Legacy chat - deprecated) 
[2025-06-08T01:55:37.967Z] [INFO]   - POST /api/agent/start (Start TxAgent) 
[2025-06-08T01:55:37.967Z] [INFO]   - POST /api/agent/stop (Stop TxAgent) 
[2025-06-08T01:55:37.967Z] [INFO]   - GET  /api/agent/status (Agent status) 
[2025-06-08T01:55:37.967Z] [INFO]   - POST /api/embed (RunPod embedding) 
[2025-06-08T01:55:37.967Z] [INFO]   - POST /agent/* (Legacy endpoints - deprecated) 
[2025-06-08T01:55:37.967Z] [INFO]   - GET  /* (SPA fallback to index.html) 
[2025-06-08T01:55:38.963Z] [INFO] SUCCESS: Supabase connection verified {
  "test_query": "success"
}
